"use strict";var ApplicationConfiguration=function(){var applicationModuleName="clickstarter",applicationModuleVendorDependencies=["ngResource","ui.router","angular.layout","ui.bootstrap.showErrors"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();
"use strict";angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0).hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])});
"use strict";ApplicationConfiguration.registerModule("campaigns");
"use strict";ApplicationConfiguration.registerModule("core");
"use strict";ApplicationConfiguration.registerModule("offers");
"use strict";ApplicationConfiguration.registerModule("users");
"use strict";angular.module("campaigns").config(["$stateProvider",function($stateProvider){$stateProvider.state("campaigns",{"abstract":!0,url:"/campaigns",templateUrl:"modules/campaigns/views/campaigns.client.view.html"}).state("campaigns.list",{url:"",templateUrl:"modules/campaigns/views/partials/campaigns.list.client.view.html",controller:"CampaignsListCtrl"}).state("campaigns.show",{url:"/:campaignTitle",templateUrl:"modules/campaigns/views/partials/campaigns.show.client.view.html",controller:"CampaignsShowCtrl"}).state("campaigns.offers",{url:"/:campaignTitle/offers",templateUrl:"modules/campaigns/views/partials/campaigns.offers.client.view.html"})}]);
"use strict";angular.module("campaigns").controller("CampaignsListCtrl",["Campaigns","$state","$stateParams","$scope",function(Campaigns,$state,$stateParams,$scope){function setViewHeight(){var windowHeight=$(window).height();$(".campaigns-container").height(windowHeight-95)}setViewHeight(),$(window).resize(function(){setViewHeight()}),$scope.campaigns=Campaigns.query(),$scope.selectCampaign=function(index){var campaignTitle=$scope.campaigns[index].title.replace(/\s+/g,"-");$state.go("campaigns.show",{campaignTitle:campaignTitle})}}]);
"use strict";angular.module("campaigns").controller("CampaignsShowCtrl",["Campaigns","$state","$stateParams","$scope",function(Campaigns,$state,$stateParams,$scope){function setViewHeight(){var windowHeight=$(window).height();$(".campaigns-container").height(windowHeight-95)}setViewHeight(),$(window).resize(function(){setViewHeight()});var campaignTitle=$stateParams.campaignTitle.replace(/-/g," ");$scope.campaign=Campaigns.get({campaignTitle:campaignTitle})}]);
"use strict";angular.module("campaigns").factory("Campaigns",["$resource",function($resource){return $resource("api/campaigns/:campaignTitle",{campaignTitle:"@campaignTitle"},{update:{method:"PUT"}})}]);
"use strict";angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"modules/core/views/home.client.view.html",controller:"HomeCtrl"}).state("learn",{url:"/learn",templateUrl:"modules/core/views/learn.client.view.html"})}]);
"use strict";angular.module("core").controller("HeaderCtrl",["$state","$http","$scope","Authentication",function($state,$http,$scope,Authentication){$scope.authentication=Authentication,$scope.signOut=function(){$http.get("/api/auth/signout").then(function(){Authentication.user=null,$state.go("home")},function(error){$scope.error=error.message})}}]);
"use strict";angular.module("core").controller("HomeCtrl",[function(){}]);
"use strict";angular.module("core").directive("backImg",function(){return function(scope,element,attrs){attrs.$observe("backImg",function(value){element.css({background:"url("+value+")"})})}});
"use strict";angular.module("offers").config(["$stateProvider",function($stateProvider){$stateProvider.state("offers",{"abstract":!0,url:"/offers",template:"<ui-view></ui-view>"}).state("offers.surveys",{url:"/surveys/1",templateUrl:"modules/offers/views/offers.survey.client.view.html",controller:"SurveyCtrl"})}]);
"use strict";angular.module("offers").controller("SurveyCtrl",["$scope",function($scope){$scope.surveyAnswers=[],$scope.surveyStep=-1,$scope.surveyError=!1,$scope.surveyStart=function(){$scope.surveyStep++},$scope.surveyNext=function(){$scope.surveyAnswers[$scope.surveyStep]||0===$scope.surveyAnswers[$scope.surveyStep]?($scope.surveyError=!1,$scope.surveyStep++):$scope.surveyError=!0},$scope.surveyPrev=function(){$scope.surveyError=!1,$scope.surveyStep--},$scope.surveyQuestions=[{prompt:"What Princeton Class cohort do you fall under?",answers:["2005-2019","1995-2004","1985-1994","1975-1984","Prior to 1975"]},{prompt:"What was your area of concentration?",answers:["Humanities","Social Sciences","Hard Sciences","Engineering","Other"]},{prompt:"Which residential college were you a member of?",answers:["Butler","Forbes","Mathey","Rockefeller","Wilson","Whitman","None"]}]}]);
"use strict";angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("/");break;case 403:}return $q.reject(rejection)}}}])}]);
"use strict";angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("authentication",{"abstract":!0,templateUrl:"modules/users/views/authentication/authentication.client.view.html",controller:"AuthenticationCtrl"}).state("authentication.register",{url:"/register",templateUrl:"modules/users/views/authentication/register.client.view.html",controller:"AuthenticationCtrl"}).state("authentication.signin",{url:"/signin",templateUrl:"modules/users/views/authentication/signin.client.view.html",controller:"AuthenticationCtrl"})}]);
"use strict";angular.module("users").controller("AuthenticationCtrl",["$http","$state","$rootScope","$scope","Users","Authentication",function($http,$state,$rootScope,$scope,Users,Authentication){$scope.stateName=$state.current.name,$scope.registerPage=1;var userCredentials={};$rootScope.$on("$stateChangeSuccess",function(event,toState){$scope.stateName=toState.name}),$scope.nextRegisterPage=function(form,credentials){$scope.$broadcast("show-errors-check-validity"),form.$valid&&(userCredentials=credentials,$scope.registerPage=2)},$scope.monthOptions=["January","February","March","April","May","June","July","August","September","October","November","December"],$scope.dayOptions=[];for(var i=0;31>i;i++)$scope.dayOptions.push(i+1);for($scope.yearOptions=[],i=2010;i>=1930;i--)$scope.yearOptions.push(i);$scope.submitRegister=function(form,credentials){$scope.$broadcast("show-errors-check-validity"),credentials&&credentials.gender||$(".gender-error").css("display","block"),form.$valid&&(_.extend(userCredentials,credentials),userCredentials.dateOfBirth=new Date(credentials.dob.year,$scope.monthOptions.indexOf(credentials.dob.month),credentials.dob.day,0,0,0,0),delete userCredentials.dob,$http.post("api/auth/register",userCredentials).then(function(payload){Authentication.user=payload.data,console.log(payload.data),console.log(Authentication.user),$state.go("campaigns.list")},function(error){$scope.error=error.data.message}))},$scope.submitSignIn=function(form,credentials){$scope.$broadcast("show-errors-check-validity"),form.$valid&&$http.post("api/auth/signin",credentials).then(function(payload){Authentication.user=payload.data,$state.go("campaigns.list")},function(error){$scope.error=error.data.message})}}]);
"use strict";angular.module("users").factory("Authentication",["$window",function($window){var auth={user:$window.user};return auth}]);
"use strict";angular.module("users").factory("Users",["$resource",function($resource){return $resource("api/users",{},{update:{method:"PUT"}})}]);